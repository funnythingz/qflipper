var Q;!function(a){var b=function(){function b(b){this.$el=b,this.$el=b;var c=new a.PrefixChecker(b,a.TransformEnum);this.transformPrefix=c.getPrefix();var d=new a.PrefixChecker(b,a.TransitionEnum);this.transitionPrefix=d.getPrefix()}return b.prototype.transAnimation=function(a){this.setTransition(),this.$el.css("-"+this.transformPrefix+"-transform","translate3d("+a+"px, 0, 0)")},b.prototype.noTransAnimation=function(a){this.unsetTransition(),this.$el.css("-"+this.transformPrefix+"-transform","translate3d("+a+"px, 0, 0)")},b.prototype.setTransition=function(){this.$el.css("-"+this.transitionPrefix+"-transition","-"+this.transformPrefix+"-transform .3s ease-in-out")},b.prototype.unsetTransition=function(){this.$el.css("-"+this.transitionPrefix+"-transition","none")},b}();a.Animater=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b,c){this.prefixEnum=a.PrefixEnum;var d,e=this;$.each(c,function(a,c){parseInt(c,10)>=0&&void 0!==b.css(a)&&(d=e.prefixEnum[c])}),this._prefix=d}return b.prototype.getPrefix=function(){return this._prefix},b}();a.PrefixChecker=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a,b){this.soloWidth=$(b.view.getName()).width(),this.totalLength=$(b.item.getName(),a).length,this.totalWidth=this.soloWidth*this.totalLength}return a.prototype.getSoloWidth=function(){return this.soloWidth},a.prototype.getTotalWidth=function(){return this.totalWidth},a.prototype.getTotalLength=function(){return this.totalLength},a}();a.ItemSize=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.name=a}return a.prototype.getName=function(){return this.name},a}();a.Item=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.name=a}return a.prototype.getName=function(){return this.name},a}();a.Lamp=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){}return b.prototype.createType=function(b){this.type=new a.Type(b)},b.prototype.createView=function(b){this.view=new a.View(b)},b.prototype.createItem=function(b){this.item=new a.Item(b)},b.prototype.createLamp=function(b){this.lamp=new a.Lamp(b)},b}();a.Options=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){"undefined"==typeof b&&(b=b?b:"simple"),_.isEqual(b,"simple")&&(this.type=a.FlipTypeEnum.Simple),_.isEqual(b,"rich")&&(this.type=a.FlipTypeEnum.Rich)}return b.prototype.getType=function(){return this.type},b}();a.Type=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.name=a}return a.prototype.getName=function(){return this.name},a}();a.View=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){}return a.prototype.setPoint=function(a){this.now=a},a.prototype.getNow=function(){return this.now},a}();a.Point=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){}return a.prototype.setY=function(a){this.y=a},a.prototype.setX=function(a){this.x=a},a.prototype.getY=function(){return this.y},a.prototype.getX=function(){return this.x},a}();a.Position=b}(Q||(Q={}));var Q;!function(a){!function(a){a[a.Simple=0]="Simple",a[a.Rich=1]="Rich"}(a.FlipTypeEnum||(a.FlipTypeEnum={})),a.FlipTypeEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.webkit=0]="webkit",a[a.moz=1]="moz",a[a.o=2]="o",a[a.ms=3]="ms"}(a.PrefixEnum||(a.PrefixEnum={})),a.PrefixEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.Success=0]="Success",a[a.Failure=1]="Failure"}(a.StartEnum||(a.StartEnum={})),a.StartEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.WebkitTransform=0]="WebkitTransform",a[a.MozTransform=1]="MozTransform",a[a.OTransform=2]="OTransform",a[a.msTransform=3]="msTransform"}(a.TransformEnum||(a.TransformEnum={})),a.TransformEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.WebkitTransitionProperty=0]="WebkitTransitionProperty",a[a.MozTransitionProperty=1]="MozTransitionProperty",a[a.OTransitionProperty=2]="OTransitionProperty",a[a.msTransitionProperty=3]="msTransitionProperty"}(a.TransitionEnum||(a.TransitionEnum={})),a.TransitionEnum}(Q||(Q={}));var Q;!function(a){var b=function(){function b(a,b){this.$el=a,this.options=b,this.init()}return b.prototype.refresh=function(){this.resetPoint(),console.log(this.point.getNow()),this.transAnimation()},b.prototype.toNext=function(){this.hasNext()&&(this.point.setPoint(this.point.getNow()+1),console.log(this.point.getNow()),this.transAnimation())},b.prototype.toPrev=function(){this.hasPrev()&&(this.point.setPoint(this.point.getNow()-1),console.log(this.point.getNow()),this.transAnimation())},b.prototype.moveToPoint=function(a){a<this.itemSize.getTotalLength()?this.point.setPoint(a):a>=this.itemSize.getTotalLength()&&this.point.setPoint(this.itemSize.getTotalLength()-1),console.log(this.point.getNow()),this.transAnimation()},b.prototype.setTouchEvent=function(){this.$el.on("touchstart",function(){console.log("touchstart")})},b.prototype.init=function(){this.point=new a.Point,this.resetPoint(),this.itemSize=new a.ItemSize(this.$el,this.options),this.animater=new a.Animater(this.$el),this.setFlipView(),this.setTouchEvent()},b.prototype.hasNext=function(){return this.point.getNow()<this.itemSize.getTotalLength()-1?!0:!1},b.prototype.hasPrev=function(){return 0<this.point.getNow()&&this.point.getNow()<=this.itemSize.getTotalLength()-1?!0:!1},b.prototype.resetPoint=function(){this.point.setPoint(0)},b.prototype.setFlipView=function(){this.$el.css({width:this.itemSize.getTotalWidth().toString()+"px"})},b.prototype.transAnimation=function(){this.animater.transAnimation(-(this.point.getNow()*this.itemSize.getSoloWidth()))},b.prototype.noTransAnimation=function(){this.animater.noTransAnimation(-(this.point.getNow()*this.itemSize.getSoloWidth()))},b}();a.Flip=b}(Q||(Q={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Q;!function(a){var b=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b}(a.Flip);a.RichFlip=b}(Q||(Q={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Q;!function(a){var b=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.prototype.setTouchEvent=function(){this.$el.on("touchstart",function(a){console.log(a)})},b}(a.Flip);a.SimpleFlip=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){}return b.prototype.createRichFlip=function(b,c){return new a.RichFlip(b,c)},b}();a.RichFlipFactory=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){}return b.prototype.createSimpleFlip=function(b,c){return new a.SimpleFlip(b,c)},b}();a.SimpleFlipFactory=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){this.startEnum=a.StartEnum.Failure}return b.prototype.start=function(b,c){this.options=new a.Options,this.options.createType(c.type),this.options.createView(c.view?c.view:".view"),this.options.createItem(c.item?c.item:".item"),this.options.createLamp(c.lamp?c.lamp:".lamp"),this.flipService=new a.FlipService($(b),this.options),this.startEnum=a.StartEnum.Success,this.refresh()},b.prototype.refresh=function(){this.checkStart()&&this.flipService.refresh()},b.prototype.toNext=function(){this.checkStart()&&this.flipService.toNext()},b.prototype.toPrev=function(){this.checkStart()&&this.flipService.toPrev()},b.prototype.moveToPoint=function(a){this.checkStart()&&this.flipService.moveToPoint(a)},b.prototype.checkStart=function(){return this.startEnum===a.StartEnum.Success?!0:this.startEnum===a.StartEnum.Failure?!1:void 0},b}();a.Flipper=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b,c){if(_.isEqual(c.type.getType(),a.FlipTypeEnum.Simple)){var d=new a.SimpleFlipFactory;return d.createSimpleFlip(b,c)}if(_.isEqual(c.type.getType(),a.FlipTypeEnum.Rich)){var e=new a.RichFlipFactory;return e.createRichFlip(b,c)}}return b}();a.FlipService=b}(Q||(Q={}));