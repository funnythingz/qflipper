/* qflipper.min.js v@1.0 http://funnythingz.github.com/qflipper/ | mit-license */
;var Q;!function(a){var b=function(){function a(a){"undefined"==typeof a&&(a=!1),this.flag=a}return a.prototype.enabled=function(){this.flag=!0},a.prototype.disabled=function(){this.flag=!1},a.prototype.checkStatus=function(){return this.flag},a}();a.AnimationFlag=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){this.transitionWithPrefix=new a.TransitionWithPrefixDecorator(new a.TransitionCss3Propaty),this.transformWithPrefix=new a.TransformWithPrefixDecorator(new a.TransformCss3Propaty),this.$el=a.FLIP_ELEMENT.getElement()}return b.prototype.transAnimation=function(b){this.setTransition();var c=new a.TranslateX3d(b);this.$el.css(this.transformWithPrefix.getCss3PropatyName(),c.getMovePosition())},b.prototype.noTransAnimation=function(b){this.unsetTransition();var c=new a.TranslateX3d(b);this.$el.css(this.transformWithPrefix.getCss3PropatyName(),c.getMovePosition())},b.prototype.setTransition=function(){this.$el.css(this.transitionWithPrefix.getCss3PropatyName(),this.transformWithPrefix.getCss3PropatyNameWithEffect())},b.prototype.unsetTransition=function(){this.$el.css(this.transitionWithPrefix.getCss3PropatyName(),"none")},b}();a.Animator=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.movePosition=a}return a.prototype.getMovePosition=function(){var a=this.movePosition.toString();return"translate3d("+a+"px, 0, 0)"},a}();a.TranslateX3d=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.soloWidth=$(a.view.getName()).width(),this.totalLength=$(a.item.getName()).length,this.totalWidth=this.soloWidth*this.totalLength}return a.prototype.getSoloWidth=function(){return this.soloWidth},a.prototype.getTotalWidth=function(){return this.totalWidth},a.prototype.getTotalLength=function(){return this.totalLength},a}();a.ItemSize=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){}return a.prototype.setPoint=function(a){this.point=a},a.prototype.getNow=function(){return this.point},a}();a.Point=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a,b){this.x=a,this.y=b}return a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a}();a.Position=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){}return a.prototype.getCss3PropatyName=function(){return"transform"},a}();a.TransformCss3Propaty=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){this.css3PropatyName=b,this.prefixChecker=new a.PrefixChecker(a.TransformEnum)}return b.prototype.getCss3PropatyName=function(){return"-"+this.prefixChecker.getPrefix()+"-"+this.css3PropatyName.getCss3PropatyName()},b.prototype.getCss3PropatyNameWithEffect=function(){return this.getCss3PropatyName()+" .3s ease-in-out"},b}();a.TransformWithPrefixDecorator=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){}return a.prototype.getCss3PropatyName=function(){return"transition"},a}();a.TransitionCss3Propaty=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){this.css3PropatyName=b,this.prefixChecker=new a.PrefixChecker(a.TransitionEnum)}return b.prototype.getCss3PropatyName=function(){return"-"+this.prefixChecker.getPrefix()+"-"+this.css3PropatyName.getCss3PropatyName()},b}();a.TransitionWithPrefixDecorator=b}(Q||(Q={}));var Q;!function(a){!function(a){a[a.Simple=0]="Simple",a[a.Rich=1]="Rich"}(a.FlipTypeEnum||(a.FlipTypeEnum={})),a.FlipTypeEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.webkit=0]="webkit",a[a.moz=1]="moz",a[a.o=2]="o",a[a.ms=3]="ms"}(a.PrefixEnum||(a.PrefixEnum={})),a.PrefixEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.WebkitTransform=0]="WebkitTransform",a[a.MozTransform=1]="MozTransform",a[a.OTransform=2]="OTransform",a[a.msTransform=3]="msTransform"}(a.TransformEnum||(a.TransformEnum={})),a.TransformEnum}(Q||(Q={}));var Q;!function(a){!function(a){a[a.WebkitTransitionProperty=0]="WebkitTransitionProperty",a[a.MozTransitionProperty=1]="MozTransitionProperty",a[a.OTransitionProperty=2]="OTransitionProperty",a[a.msTransitionProperty=3]="msTransitionProperty"}(a.TransitionEnum||(a.TransitionEnum={})),a.TransitionEnum}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){this.options=b,this.point=new a.Point,this.$el=a.FLIP_ELEMENT.getElement(),this.resetPoint(),this.itemSize=new a.ItemSize(this.options),this.animator=new a.Animator,this.setFlipView()}return b.prototype.refresh=function(){this.resetPoint(),this.transAnimation()},b.prototype.toNext=function(){this.hasNext()&&this.point.setPoint(this.getPoint()+1),this.transAnimation()},b.prototype.toPrev=function(){this.hasPrev()&&this.point.setPoint(this.getPoint()-1),this.transAnimation()},b.prototype.moveToPoint=function(a){a<this.getMaxPoint()&&this.point.setPoint(a),a>=this.getMaxPoint()&&this.point.setPoint(this.getMaxPoint()-1),this.transAnimation()},b.prototype.hasNext=function(){return this.getPoint()<this.getMaxPoint()-1?!0:!1},b.prototype.hasPrev=function(){return 0<this.getPoint()&&this.getPoint()<=this.getMaxPoint()-1?!0:!1},b.prototype.getPoint=function(){return this.point.getNow()},b.prototype.getMaxPoint=function(){return this.itemSize.getTotalLength()},b.prototype.resetPoint=function(){this.point.setPoint(0)},b.prototype.setFlipView=function(){this.$el.css({width:this.itemSize.getTotalWidth().toString()+"px"})},b.prototype.transAnimation=function(){this.animator.transAnimation(-(this.getPoint()*this.itemSize.getSoloWidth()))},b}();a.Flip=b}(Q||(Q={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Q;!function(a){var b=function(b){function c(c){b.call(this,c),this.animationFlag=new a.AnimationFlag,this.bindTouchEvents()}return __extends(c,b),c.prototype.bindTouchEvents=function(){this.touchstart(),this.touchmove(),this.touchend(),this.touchcancel()},c.prototype.touchstart=function(){var b=this;this.$el.on("touchstart",function(c){b.startPosition=new a.Position(c.originalEvent.touches[0].clientX,c.originalEvent.touches[0].clientY)})},c.prototype.touchmove=function(){var a=this;this.animationFlag.disabled(),this.$el.on("touchmove",function(b){if(b.stopPropagation(),a.animationFlag.checkStatus()||a.traseDistance(b),a.animationFlag.checkStatus()){var c=a.startPosition.getX()-b.originalEvent.touches[0].clientX;a.snapFitAnimation(c),a.delegateDistancePosition(b)}})},c.prototype.touchend=function(){var a=this;this.$el.on("touchend",function(){a.animationFlag.checkStatus()&&(a.startAnimation(),a.triggerEvent("flipend")),a.animationFlag.disabled()})},c.prototype.touchcancel=function(){this.$el.on("touchcancel",function(){})},c.prototype.traseDistance=function(a){this.delegateDistancePosition(a),Math.abs(this.distancePosition.getY())<10&&Math.abs(this.distancePosition.getX())>10&&(event.preventDefault(),this.animationFlag.enabled())},c.prototype.delegateDistancePosition=function(b){this.distancePosition=new a.Position(this.startPosition.getX()-b.originalEvent.touches[0].clientX,this.startPosition.getY()-b.originalEvent.touches[0].clientY)},c.prototype.startAnimation=function(){this.distancePosition.getX()>0&&this.toNext(),this.distancePosition.getX()<0&&this.toPrev()},c.prototype.snapFitAnimation=function(a){"undefined"==typeof a&&(a=0),this.animator.noTransAnimation(-(this.getPoint()*this.itemSize.getSoloWidth()+a))},c.prototype.triggerEvent=function(a){return this.$el.trigger($.Event(a))},c}(a.Flip);a.RichFlipFactory=b}(Q||(Q={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Q;!function(a){var b=function(b){function c(c){b.call(this,c),this.animationFlag=new a.AnimationFlag,this.bindTouchEvents()}return __extends(c,b),c.prototype.bindTouchEvents=function(){this.touchstart(),this.touchmove(),this.touchend(),this.touchcancel()},c.prototype.touchstart=function(){var b=this;this.$el.on("touchstart",function(c){b.startPosition=new a.Position(c.originalEvent.touches[0].clientX,c.originalEvent.touches[0].clientY)})},c.prototype.touchmove=function(){var a=this;this.animationFlag.disabled(),this.$el.on("touchmove",function(b){b.stopPropagation(),a.animationFlag.checkStatus()||(a.traseDistance(b),a.animationFlag.checkStatus()&&(a.startAnimation(),a.triggerEvent("flipend")))})},c.prototype.touchend=function(){var a=this;this.$el.on("touchend",function(){a.animationFlag.disabled()})},c.prototype.touchcancel=function(){this.$el.on("touchcancel",function(){})},c.prototype.traseDistance=function(b){this.distancePosition=new a.Position(this.startPosition.getX()-b.originalEvent.touches[0].clientX,this.startPosition.getY()-b.originalEvent.touches[0].clientY),Math.abs(this.distancePosition.getY())<10&&Math.abs(this.distancePosition.getX())>10&&(event.preventDefault(),this.animationFlag.enabled())},c.prototype.startAnimation=function(){this.distancePosition.getX()>0&&this.toNext(),this.distancePosition.getX()<0&&this.toPrev()},c.prototype.triggerEvent=function(a){return this.$el.trigger($.Event(a))},c}(a.Flip);a.SimpleFlipFactory=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){}return b.prototype.createFlip=function(b){return b.type.getType()===a.FlipTypeEnum.Simple?new a.SimpleFlipFactory(b):b.type.getType()===a.FlipTypeEnum.Rich?new a.RichFlipFactory(b):void 0},b}();a.FlipCreator=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(){if(a._instance)throw console.log("Error: Instantiation failed");a._instance=this}return a.getInstance=function(){return null===a._instance&&(a._instance=new a),a._instance},a.prototype.setElement=function(a){this.$el=a},a.prototype.getElement=function(){return this.$el},a._instance=null,a}();a.FlipElementSingleton=b,a.FLIP_ELEMENT=b.getInstance()}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b,c){var d=new a.Options;d.createType(c.type?c.type:"simple"),d.createView(c.view?c.view:".view"),d.createItem(c.item?c.item:".item"),a.FLIP_ELEMENT.setElement($(b));var e=new a.FlipCreator;this.flip=e.createFlip(d),this.refresh()}return b.prototype.refresh=function(){this.flip.refresh()},b.prototype.toNext=function(){this.flip.toNext()},b.prototype.toPrev=function(){this.flip.toPrev()},b.prototype.moveToPoint=function(a){this.flip.moveToPoint(a)},b.prototype.hasNext=function(){return this.flip.hasNext()},b.prototype.hasPrev=function(){return this.flip.hasPrev()},b.prototype.getPoint=function(){return this.flip.getPoint()},b.prototype.getMaxPoint=function(){return this.flip.getMaxPoint()},b}();a.Flipper=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.name=a}return a.prototype.getName=function(){return this.name},a}();a.Item=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(){}return b.prototype.createType=function(b){this.type=new a.Type(b)},b.prototype.createView=function(b){this.view=new a.View(b)},b.prototype.createItem=function(b){this.item=new a.Item(b)},b}();a.Options=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){"undefined"==typeof b&&(b=b?b:"simple"),"simple"===b&&(this.type=a.FlipTypeEnum.Simple),"rich"===b&&(this.type=a.FlipTypeEnum.Rich)}return b.prototype.getType=function(){return this.type},b}();a.Type=b}(Q||(Q={}));var Q;!function(a){var b=function(){function a(a){this.name=a}return a.prototype.getName=function(){return this.name},a}();a.View=b}(Q||(Q={}));var Q;!function(a){var b=function(){function b(b){this.prefixEnum=a.PrefixEnum;var c,d=this,e=a.FLIP_ELEMENT.getElement();$.each(b,function(a,b){parseInt(b,10)>=0&&void 0!==e.css(a)&&(c=d.prefixEnum[b])}),this._prefix=c}return b.prototype.getPrefix=function(){return this._prefix},b}();a.PrefixChecker=b}(Q||(Q={}));